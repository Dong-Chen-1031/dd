<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>çŒœæ‹³ï¼Ÿï¼</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body{height: 100%;background-color: #092846;color: #f5f5f5;}
        p{font-size: 25px;}
        span{font-size: 23px;}
    </style>
</head>
<body>
    <h2 style="text-align:center">çŒœæ‹³ï¼Ÿï¼æœ€å°ˆæ¥­çš„çŒœæ‹³åˆ†æç³»çµ±</h2>
    <h3 style="text-align:center"><b>by.é™³æŸæ±</b></h3>
    <div style="text-align:center">
        <span>äººæ•¸ï¼š</span>
        <input type="number" id="num" style="width:90px;font-size: 22px;">
        <br>
        <input type="button" value="é€å‡º" style="background-color:#cf7c1d;margin-top:10px;color: #f5f5f5;border: 0px;font-size: 18px;" onclick="Print()">
        <div>
            <div id="bt2" style="background-color:#cf7c1d;display:inline-block;width: 45%;margin: 1%;font-size: 20px;" onclick="document.getElementById('text').style.display='block';document.getElementById('nn').style.display='none'">å…¨éƒ¨å¯èƒ½æ€§</div>
            <div id="bt1" style="background-color:#cf7c1d;display:inline-block;width: 45%;margin: 1%;font-size: 20px;" onclick="document.getElementById('text').style.display='none';document.getElementById('nn').style.display='block'">è³‡æ–™çµ±è¨ˆ</div>
        </div>
        <div id="text">
        </div>
        <div id="nn">
            <p id="wine">è´ï¼š- æ¬¡ï¼ˆ--%ï¼‰</p>
            <p id="lose">è¼¸ï¼š- æ¬¡ï¼ˆ--%ï¼‰</p>
            <p id="pp">å¹³æ‰‹ï¼š- æ¬¡ï¼ˆ--%ï¼‰</p>
            <p id="all">å…±è¨ˆï¼š- æ¬¡ï¼ˆ--%ï¼‰</p>
            <p>============================</p>
        </div>
    </div>
    <script>
        const å‰ªåˆ€ = 'å‰ªåˆ€'
        const çŸ³é ­ = 'çŸ³é ­'
        const å¸ƒ   = 'å¸ƒã€€'
        const å¹³æ‰‹   = 'å¹³æ‰‹'
        const è¼¸   = 'è¼¸ã€€'
        const è´   = 'è´ã€€'
        function åˆ—å‡ºå¯èƒ½æ€§(äººæ•¸,å“ªä¸€ç¨®) {
            var å¯èƒ½çš„çµ„åˆ=Math.pow(3,äººæ•¸)
            var å‡ºæ‹³=[]
            var ç¸½å‡ºæ‹³=[]
            for (let z = 1; z <= å¯èƒ½çš„çµ„åˆ; z++) {
                switch (å“ªä¸€ç¨®) {
                    case 1:
                        ç¸½å‡ºæ‹³.push(å…¨éƒ¨äººå‡ºæ‹³å€¼é‹ç®—(z,äººæ•¸))       
                        break;
                    case 2:
                        ç¸½å‡ºæ‹³.push(å…¨éƒ¨äººå‡ºæ‹³å€¼é‹ç®—2(z,äººæ•¸))       
                    default:
                        break;
                }
            }
            return ç¸½å‡ºæ‹³
        }
        function å…¨éƒ¨äººå‡ºæ‹³å€¼é‹ç®—(z,äººæ•¸) {
            var aå¯èƒ½çš„çµ„åˆ2=Math.pow(3,äººæ•¸)
            var bæœ€ä½å€¼=0
            var å‡ºæ‹³=[]
            for (let i = 1; i <= äººæ•¸; i++) {
                // console.log("((aå¯èƒ½çš„çµ„åˆ2/3)+bæœ€ä½å€¼) = ",((aå¯èƒ½çš„çµ„åˆ2/3)+bæœ€ä½å€¼))
                // console.log("(((aå¯èƒ½çš„çµ„åˆ2/3)*2)+bæœ€ä½å€¼) = ",(((aå¯èƒ½çš„çµ„åˆ2/3)*2)+bæœ€ä½å€¼))
                // console.log("(aå¯èƒ½çš„çµ„åˆ2+bæœ€ä½å€¼) = ",(aå¯èƒ½çš„çµ„åˆ2+bæœ€ä½å€¼))
                if (z<=((aå¯èƒ½çš„çµ„åˆ2/3)+bæœ€ä½å€¼)) {
                    å‡ºæ‹³.push(å‰ªåˆ€)
                    aå¯èƒ½çš„çµ„åˆ2=(aå¯èƒ½çš„çµ„åˆ2/3)
                }else if(z<=(((aå¯èƒ½çš„çµ„åˆ2/3)*2)+bæœ€ä½å€¼)){
                    å‡ºæ‹³.push(çŸ³é ­)
                    aå¯èƒ½çš„çµ„åˆ2=(aå¯èƒ½çš„çµ„åˆ2/3)
                    bæœ€ä½å€¼=(aå¯èƒ½çš„çµ„åˆ2)
                }else if(z<=(aå¯èƒ½çš„çµ„åˆ2+bæœ€ä½å€¼)){
                    å‡ºæ‹³.push(å¸ƒ)
                    aå¯èƒ½çš„çµ„åˆ2=(aå¯èƒ½çš„çµ„åˆ2/3)
                    bæœ€ä½å€¼=(aå¯èƒ½çš„çµ„åˆ2*2)
                }else{
                    console.log('Error')
                }
            }
            return å‡ºæ‹³
        }
        function å…¨éƒ¨äººå‡ºæ‹³å€¼é‹ç®—2(z,äººæ•¸) {
            var aå¯èƒ½çš„çµ„åˆ2=Math.pow(3,äººæ•¸)
            var å‡ºæ‹³=[]
            for (let i = 0; i < äººæ•¸; i++) {
                var aé¸é …=aå¯èƒ½çš„çµ„åˆ2/3
                var bé¸é …,cé¸é …
                for (let i = 0; i < å‡ºæ‹³.length; i++) {
                    const é€™æ¬¡é¸çš„ = å‡ºæ‹³[i];
                    switch (é€™æ¬¡é¸çš„) {
                        case å‰ªåˆ€:
                            aé¸é …=aé¸é …/3
                            break
                        case çŸ³é ­:
                            aé¸é …=aé¸é …/3*2
                            break
                        case å¸ƒ:
                            aé¸é …=aé¸é …
                            break
                    }
                    bé¸é …=aé¸é …*2
                    cé¸é …=aé¸é …*3
                }
                if (z<=aé¸é …) {
                    å‡ºæ‹³.push(å‰ªåˆ€)
                }else if(z<=bé¸é …){
                    å‡ºæ‹³.push(çŸ³é ­)
                }else if(z<=cé¸é …){
                    å‡ºæ‹³.push(å¸ƒ)
                }else{
                    console.log('Error')
                }
            }
            return å‡ºæ‹³
        }
        function åˆ—å‡ºå¯èƒ½æ€§2(äººæ•¸) {
            const på¯èƒ½çš„çµ„åˆ=Math.pow(3,äººæ•¸)
            console.log(på¯èƒ½çš„çµ„åˆ)
            var oç¸½å‡ºæ‹³=[]
            for (let temp = 0; temp < på¯èƒ½çš„çµ„åˆ; temp++) {
               oç¸½å‡ºæ‹³.push([])
            }
            console.log("ğŸš€ ~ file: å‰ªåˆ€ã®ç§˜å¯†.html ~ line 96 ~ åˆ—å‡ºå¯èƒ½æ€§2 ~ oç¸½å‡ºæ‹³", oç¸½å‡ºæ‹³)
            for (let x = 0; x < äººæ•¸; x++) {
                var z=0
                var v=1
                if (x>0) {
                    v=Math.pow(3,x)
                }
                while (true) {
                    for (let y = 0; y < v; y++) {
                        const qå‡ºæ‹³ = oç¸½å‡ºæ‹³[z];
                        qå‡ºæ‹³.push(å‰ªåˆ€)
                        z++
                    }
                    for (let y = 0; y < v; y++) {
                        const qå‡ºæ‹³ = oç¸½å‡ºæ‹³[z];
                        qå‡ºæ‹³.push(çŸ³é ­)
                        z++
                    }
                    for (let y = 0; y < v; y++) {
                        const qå‡ºæ‹³ = oç¸½å‡ºæ‹³[z];
                        qå‡ºæ‹³.push(å¸ƒ)
                        z++
                    }
                    if (z>=på¯èƒ½çš„çµ„åˆ) {
                        break
                    }
                    console.log("ğŸš€ ~ file: å‰ªåˆ€ã®ç§˜å¯†.html ~ line 108 ~ åˆ—å‡ºå¯èƒ½æ€§2 ~ z", z,';',på¯èƒ½çš„çµ„åˆ)
                }
            }
            return oç¸½å‡ºæ‹³
        }
        function WinOrLose(rå‡ºæ‹³) {
            let u=få¹³æ‰‹(rå‡ºæ‹³)
            console.log("ğŸš€ ~ file: å‰ªåˆ€ã®ç§˜å¯†.html ~ line 132 ~ WinOrLose ~ u", u)
            let å›å‚³=[]
            if (!u){
                for (let i = 0; i < rå‡ºæ‹³.length; i++) {
                    å›å‚³[i]=å¹³æ‰‹
                }
                return å›å‚³
            }
            if (u[0]&&u[1]) {
                for (let i = 0; i < rå‡ºæ‹³.length; i++) {
                    const el = rå‡ºæ‹³[i];
                    if (el==å‰ªåˆ€) {
                        å›å‚³.push(è¼¸)
                    }else if (el==çŸ³é ­) {
                        å›å‚³.push(è´)
                    }
                }
            }else if (u[0]&&u[2]) {
                for (let i = 0; i < rå‡ºæ‹³.length; i++) {
                    const el = rå‡ºæ‹³[i];
                    if (el==å¸ƒ) {
                        å›å‚³.push(è¼¸)
                    }else if (el==å‰ªåˆ€) {
                        å›å‚³.push(è´)
                    }
                }
            }else if (u[1]&&u[2]) {
                for (let i = 0; i < rå‡ºæ‹³.length; i++) {
                    const el = rå‡ºæ‹³[i];
                    if (el==çŸ³é ­) {
                        å›å‚³.push(è¼¸)
                    }else if (el==å¸ƒ) {
                        å›å‚³.push(è´)
                    }
                }
            }
            return å›å‚³
        }
        function få¹³æ‰‹(wå‡ºæ‹³) {
            let aå‰ªåˆ€=0
            let açŸ³é ­=0
            let aå¸ƒ=0
            for (let i = 0; i < wå‡ºæ‹³.length; i++) {
                const ei = wå‡ºæ‹³[i];
                if (ei==å‰ªåˆ€) {
                    aå‰ªåˆ€=1
                }else if(ei==çŸ³é ­){
                    açŸ³é ­=1
                }else if (ei==å¸ƒ) {
                    aå¸ƒ=1
                }
            }
            båˆ=aå‰ªåˆ€+açŸ³é ­+aå¸ƒ
            if ((båˆ==1)||(båˆ==3)) {
                return 0
            }
            return [aå‰ªåˆ€,açŸ³é ­,aå¸ƒ]
        }
        function Print() {
            var num=document.getElementById('num').value
            var text=document.getElementById('text')
            console.log("ğŸš€ ~ file: å‰ªåˆ€ã®ç§˜å¯†.html ~ line 198 ~ Print ~ num", num)
            if (num==0||num==1) {
                alert('äººæ•¸ä¸èƒ½ç‚º0æˆ–1')
            }
            a=åˆ—å‡ºå¯èƒ½æ€§2(num)
            let te=''
            let tè¼¸=0,tå¹³æ‰‹=0,tè´=0
            for (let i = 0; i < a.length; i++) {
                const element = a[i];
                te=te+String(element);
                te=te+'ã€€ï¼š'
                c=WinOrLose(element)[0]
                te=te+c
                te=te+'\n'
                if (!((i+1)%3)) {
                    te=te+'=======================================\n'
                }
                switch (c) {
                    case è¼¸:
                        tè¼¸++
                        break;
                    case è´:
                        tè´++
                        break
                    case å¹³æ‰‹:
                        tå¹³æ‰‹++
                        break
                }
            }
            let aa=(tå¹³æ‰‹+tè´+tè¼¸)
            document.getElementById('text').innerText=te
            document.getElementById('lose').innerText='è¼¸ï¼š'+tè¼¸+'æ¬¡ï¼ˆ'+(tè¼¸/aa)*100+'%ï¼‰'
            document.getElementById('wine').innerText='è´ï¼š'+tè´+'æ¬¡ï¼ˆ'+(tè´/aa)*100+'%ï¼‰'
            document.getElementById('pp').innerText='å¹³æ‰‹ï¼š'+tå¹³æ‰‹+'æ¬¡ï¼ˆ'+(tå¹³æ‰‹/aa)*100+'%ï¼‰'
            document.getElementById('all').innerText='å…±è¨ˆï¼š'+aa+'æ¬¡ï¼ˆ'+(aa/aa)*100+'%ï¼‰'
        }
    </script>
</body>
</html>